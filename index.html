<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gray Zones Workshop – Areas We Dedicate Little Gray Matter To</title>
  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #000206 0%, #1a1a1a 100%);
      color: #FBEDD4;
      overflow: hidden;
    }
    .cursor {
      position: fixed; width: 20px; height: 20px;
      background: #FBEDD4; border-radius: 50%;
      pointer-events: none; z-index: 9999; mix-blend-mode: difference;
      transition: transform 0.1s ease;
    }
    .presentation-container { width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; }
    .slide { display: none; width: 90%; max-width: 1200px; min-height: 80vh; text-align: center; position: relative; animation: slideIn 0.6s ease-out; }
    .slide.active { display: flex; flex-direction: column; justify-content: center; align-items: center; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    .slide h1, .slide h2 { 
      background: linear-gradient(45deg, #FBEDD4, #F5F1E8); 
      -webkit-background-clip: text; 
      background-clip: text;
      -webkit-text-fill-color: transparent; 
    }
    .slide h1 { font-size: 3.5rem; margin-bottom: 2rem; line-height: 1.2; }
    .slide h2 { font-size: 2.5rem; margin-bottom: 1.5rem; }
    .slide p { font-size: 1.3rem; line-height: 1.6; margin-bottom: 1.5rem; opacity: 0.9; max-width: 800px; }
    .interactive-button { background: linear-gradient(45deg, #FBEDD4, #F5F1E8); color: #000206; border: none; padding: 15px 30px; border-radius: 25px; font-weight: 600; font-size: 1.1rem; cursor: pointer; margin: 1rem 0.5rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(251, 237, 212, 0.3); }
    .interactive-button:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(251, 237, 212, 0.4); }
    .slide-counter { position: fixed; top: 30px; right: 30px; font-size: 1.2rem; opacity: 0.7; }
    .progress-bar { position: fixed; bottom: 0; left: 0; height: 4px; background: #FBEDD4; transition: width 0.3s ease; z-index: 1000; }
    .navigation-hint { position: fixed; bottom: 20px; right: 30px; font-size: 0.9rem; opacity: 0.5; }
    .logo-icon { position: fixed; top: 30px; left: 30px; width: 40px; height: 40px; opacity: 0.8; z-index: 1000; transition: opacity 0.3s ease; }
    .logo-icon:hover { opacity: 1; }
    .gray-zones { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      grid-template-rows: 1fr 1fr; 
      gap: 60px; 
      width: 100%; 
      max-width: 1000px; 
      margin: 2rem auto; 
      padding: 20px;
      place-items: center;
    }
    
    /* 3D Flip Card Styles */
    .zone-card { 
      height: 250px; 
      width: 100%;
      max-width: 420px;
      perspective: 1200px; 
      cursor: pointer; 
      margin: 0;
      position: relative;
      transform-style: preserve-3d;
      overflow: visible;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .zone-card::before {
      content: "";
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, transparent, rgba(251, 237, 212, 0.1), transparent);
      border-radius: 22px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .zone-card:hover::before {
      opacity: 1;
    }
    
    .zone-card-inner {
      position: relative;
      width: 100%;
      max-width: 420px;
      height: 100%;
      text-align: center;
      transition: transform 0.8s ease-in-out;
      transform-style: preserve-3d;
      transform-origin: 50% 50%;
      backface-visibility: hidden;
      margin: 0 auto;
    }
    
    .zone-card:hover .zone-card-inner,
    .zone-card.flipped .zone-card-inner {
      transform: rotateY(180deg);
    }
    
    .zone-card:hover {
      z-index: 10;
    }
    
    .zone-card-front,
    .zone-card-back {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 16px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1.5rem;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      border: 2px solid;
      transition: all 0.3s ease;
      overflow: hidden;
      box-sizing: border-box;
    }
    
    .zone-card:hover .zone-card-front,
    .zone-card:hover .zone-card-back {
      box-shadow: 0 12px 32px rgba(0,0,0,0.25);
    }
    
    .zone-card-front {
      background: linear-gradient(135deg, rgba(251, 237, 212, 0.15), rgba(251, 237, 212, 0.05));
    }
    
    .zone-card-back {
      background: linear-gradient(135deg, rgba(251, 237, 212, 0.25), rgba(251, 237, 212, 0.1));
      transform: rotateY(180deg);
      padding: 1.2rem;
    }
    
    /* Zone-specific colors */
    .zone-uncertainty .zone-card-front,
    .zone-uncertainty .zone-card-back { border-color: #ff6b6b; }
    .zone-ownership .zone-card-front,
    .zone-ownership .zone-card-back { border-color: #ffa726; }
    .zone-overreliance .zone-card-front,
    .zone-overreliance .zone-card-back { border-color: #42a5f5; }
    .zone-constraints .zone-card-front,
    .zone-constraints .zone-card-back { border-color: #ab47bc; }
    
    /* Front side styles */
    .zone-icon-large { 
      font-size: 3.5rem; 
      margin-bottom: 0.8rem;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));
      color: #FBEDD4;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .zone-icon-large img {
      width: 3.5rem;
      height: 3.5rem;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));
    }
    
    .zone-title-large { 
      font-size: 1.9rem; 
      font-weight: bold; 
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin: 0;
      color: #FBEDD4;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }
    
    /* Back side styles */
    .zone-explanation {
      font-size: 1rem;
      line-height: 1.5;
      color: #FBEDD4;
      text-align: center;
      margin: 0;
    }
    
    .zone-explanation strong {
      display: block;
      font-size: 1.2rem;
      margin-bottom: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    /* Hover hint */
    .flip-hint {
      position: absolute;
      bottom: 12px;
      right: 12px;
      font-size: 0.75rem;
      opacity: 0.6;
      color: #FBEDD4;
      transition: opacity 0.3s ease;
    }
    
    .zone-card:hover .flip-hint {
      opacity: 0;
    }
    
    /* Responsive design for smaller screens */
    @media (max-width: 768px) {
      .gray-zones {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(4, 1fr);
        gap: 40px;
        max-width: 420px;
        padding: 20px;
      }
      
      .zone-card {
        height: 230px;
      }
      
      .zone-title-large {
        font-size: 1.6rem;
        letter-spacing: 1px;
      }
      
      .zone-icon-large {
        font-size: 2.8rem;
      }
      
      .zone-icon-large img {
        width: 2.8rem;
        height: 2.8rem;
      }
      
      .zone-explanation {
        font-size: 0.9rem;
      }
      
      .zone-explanation strong {
        font-size: 1.1rem;
        margin-bottom: 0.6rem;
      }
      
      .flip-hint {
        bottom: 8px;
        right: 8px;
        font-size: 0.7rem;
      }
    }
    
    @media (max-width: 480px) {
      .zone-card {
        height: 240px;
      }
      
      .zone-title-large {
        font-size: 1.4rem;
      }
      
      .zone-icon-large {
        font-size: 2.5rem;
      }
      
      .zone-icon-large img {
        width: 2.5rem;
        height: 2.5rem;
      }
      
      .zone-card-front,
      .zone-card-back {
        padding: 1rem;
      }
    }
    
    /* Legacy zone styles for backward compatibility */
    .zone-uncertainty { border-color: #ff6b6b; }
    .zone-ownership { border-color: #ffa726; }
    .zone-overreliance { border-color: #42a5f5; }
    .zone-constraints { border-color: #ab47bc; }
    .zone-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; }
    .zone-icon { font-size: 3rem; margin-bottom: 1rem; }
    .go-deeper-panel { margin: 2rem auto 1rem auto; width: 90%; max-width: 700px; background: rgba(251,237,212,0.04); border-radius: 12px; padding: 20px; border-left: 6px solid #ffa726; }
    .comparative-framework { width: 100%; max-width: 900px; margin: 2rem auto; }
    .framework-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: 20px; margin: 2rem 0; }
    .framework-card { background: rgba(251, 237, 212, 0.1); border: 1px solid rgba(251, 237, 212, 0.3); border-radius: 10px; padding: 20px; text-align: center; transition: all 0.3s ease; }
    .framework-card:hover { background: rgba(251, 237, 212, 0.2); transform: translateY(-5px); }
    .framework-name { font-weight: 600; margin-bottom: 10px; color: #F5F1E8; }
    .framework-domain { font-size: 0.95rem; color: #FBEDD4; opacity: 0.7; margin-bottom: 10px; }
    .framework-description { font-size: 1rem; margin-bottom: 8px; }
    .framework-compare-score { font-size: 1.1rem; margin: 8px 0 6px 0; color: #ffb74d; font-weight: bold; }
    .hidden { opacity: 0; pointer-events: none; }
    .fade-in { animation: fadeIn 0.8s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .exercise { margin: 2rem auto; padding: 2rem; border-radius: 15px; background: rgba(251,237,212,0.08); max-width: 750px; border-left: 6px solid #42a5f5; }
    .exercise-title { font-size: 1.4rem; font-weight: 700; color: #FBEDD4; margin-bottom: 1rem; }
    .exercise-step { margin-bottom: 1rem; font-size: 1.1rem; }
    .case-title { color: #ffb74d; font-weight: bold; }
    .impact { color: #ff6b6b; font-weight: bold; }
    .highlight { color: #42a5f5; }
    a { color: #FBEDD4; text-decoration: underline; }
    
    /* Case Study Interactive Styles */
    .case-study-intro { background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('images/case-study/hafnia-collision.jpg'); background-size: cover; background-position: center; padding: 3rem; border-radius: 20px; margin: 2rem auto; max-width: 900px; position: relative; }
    .case-study-intro::before { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)); border-radius: 20px; z-index: -1; }
    .case-incident-date { color: #ff6b6b; font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem; }
    .case-vessels { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0; }
    .vessel-card { background: rgba(251,237,212,0.1); border-radius: 12px; padding: 1.5rem; border-left: 4px solid #ffa726; }
    .vessel-name { font-size: 1.3rem; font-weight: bold; color: #ffa726; margin-bottom: 0.5rem; }
    .vessel-details { font-size: 1rem; line-height: 1.4; }
    .crisis-simulation { background: rgba(251,237,212,0.05); border: 2px solid #ff6b6b; border-radius: 15px; padding: 2rem; margin: 2rem auto; max-width: 800px; }
    .crisis-title { font-size: 1.6rem; color: #ff6b6b; font-weight: bold; margin-bottom: 1rem; }
    .crisis-scenario { font-size: 1.2rem; line-height: 1.5; margin-bottom: 1.5rem; color: #FBEDD4; }
    .interactive-poll { background: rgba(251,237,212,0.08); border-radius: 15px; padding: 2rem; margin: 2rem auto; max-width: 700px; text-align: center; }
    .poll-question { font-size: 1.4rem; font-weight: 600; margin-bottom: 1.5rem; color: #ffa726; }
    .qr-placeholder { 
      width: 100%; /* Use full width of parent */
      height: auto;
      min-height: auto; /* Remove min-height */
      max-width: 480px; /* Slightly smaller max-width */
      background: rgba(251,237,212,0.08); 
      border: 2px dashed #ffa726; 
      border-radius: 15px; 
      margin: 1rem auto; 
      display: flex; 
      flex-direction: column;
      align-items: center; 
      justify-content: center; 
      font-size: 1rem; 
      color: #ffa726; 
      transition: all 0.3s ease;
      position: relative;
      padding: 1rem; /* Reduced padding */
    }
    .qr-placeholder:hover { 
      background: rgba(255,167,38,0.1); 
      transform: scale(1.02);
    }
    .qr-placeholder::before {
      content: "";
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px; 
      bottom: -2px;
      background: linear-gradient(45deg, #ffa726, #42a5f5, #ff6b6b, #ffa726);
      border-radius: 15px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .qr-placeholder.active::before {
      opacity: 0.3;
    }
    .gray-zone-question { margin: 2rem auto; padding: 2rem; border-radius: 15px; max-width: 800px; }
    .question-uncertainty { background: rgba(255,107,107,0.1); border-left: 6px solid #ff6b6b; }
    .question-ownership { background: rgba(255,167,38,0.1); border-left: 6px solid #ffa726; }
    .question-overreliance { background: rgba(66,165,245,0.1); border-left: 6px solid #42a5f5; }
    .question-constraints { background: rgba(171,71,188,0.1); border-left: 6px solid #ab47bc; }
    .question-header { display: flex; align-items: center; margin-bottom: 1.5rem; }
    .question-icon { 
      font-size: 2.5rem; 
      margin-right: 1rem; 
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .question-icon img {
      width: 4rem;
      height: 4rem;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
    }
    .question-title { font-size: 1.5rem; font-weight: bold; }
    .question-text { font-size: 1.2rem; line-height: 1.5; margin-bottom: 1rem; }
    .results-visualization { background: rgba(251,237,212,0.05); border-radius: 15px; padding: 2rem; margin: 2rem auto; max-width: 800px; }
    .results-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0; }
    .result-zone { background: rgba(251,237,212,0.1); border-radius: 10px; padding: 1.5rem; }
    .result-title { font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem; }
    .result-keywords { font-size: 1rem; line-height: 1.4; }
    
    /* Presentation Mode Styles */
    .mode-indicator {
      position: fixed;
      bottom: 20px; /* Changed from top */
      left: 20px;   /* Changed from 50% */
      transform: none; /* Removed translateX */
      background: rgba(0,0,0,0.8);
      color: #FBEDD4;
      padding: 10px 20px;
      border-radius: 10px;
      z-index: 10000;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 0.9rem;
      border: 2px solid #ffa726;
      transition: all 0.3s ease;
    }
    
    .mode-label { font-weight: bold; }
    .mode-hint { font-size: 0.8rem; opacity: 0.7; }
    
    /* Mode switch animation */
    @keyframes modeSwitch {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
      50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
      100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
    
    /* Mode-specific slide styling */
    .slide.mode-dual .qr-placeholder {
      border-color: #42a5f5;
      background: rgba(66,165,245,0.1);
    }
    
    .slide.mode-hybrid .qr-placeholder {
      border-color: #ffa726;
      background: rgba(255,167,38,0.1);
    }
    
    .slide.mode-offline .qr-placeholder {
      border-color: #999;
      background: rgba(153,153,153,0.1);
    }
    
    /* Enhanced QR placeholder for iframe content */
    .qr-placeholder iframe {
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="cursor" id="cursor"></div>
  <div class="presentation-container" id="presentationContainer">

    <!-- Slide 1: Title -->
    <div class="slide active" id="slide1">
      <h1>🧠 Gray Zones Workshop</h1>
      <p style="font-size: 1.5rem; margin-bottom: 2rem;">Areas We Dedicate Little Gray Matter To</p>
      <p>Where our mental energy doesn't go,<br>
        <span class="highlight">problems grow.</span><br><br>
        <span style="font-size: 1.1rem; opacity: 0.8;">Interactive mapping • Real cases • Scientific foundations</span></p>
      <div class="interactive-button" onclick="nextSlide()">Start →</div>
    </div>

    <!-- Slide 2: What's a Gray Zone? -->
    <div class="slide" id="slide2">
      <h2>What's a Gray Zone?</h2>
      <p>
        <strong>Gray zones</strong> = areas we dedicate <span class="highlight">little gray matter to</span>.<br><br>
        <span class="impact">But this is expected, isn't it?</span><br><br>
        <b>Two working hypotheses:</b><br>
        1️⃣ <b>Systems are imperfect by nature</b><br>
        2️⃣ <b>We're designed to save mental energy</b>
      </p>
      <div class="interactive-button" onclick="nextSlide()">The Elevator Paradox →</div>
    </div>

    <!-- Slide 3: The Elevator Paradox -->
    <div class="slide" id="slide3">
      <h2>🚨 The Elevator Paradox</h2>
      <p style="margin-bottom: 1rem;"><b>Question:</b> Do you think the elevators in this building are safe?<br>
        <span class="impact">(Most people say "yes")</span></p>
      <img src="images/lift-hand.png" alt="Elevator safety warning sign" style="max-width: 380px; margin: 0.5rem auto; border-radius: 10px; box-shadow: 0 8px 25px rgba(0,0,0,0.3);">
      <p style="margin-top: 1rem; margin-bottom: 1rem;"><b>But then...</b> If the automatic doors pass all industry inspections,<br>
        <span class="highlight">why do we see signs saying "Don't try to stop the doors with your hand"?</span></p>
      <p style="margin-top: 0.5rem;"><b>Over-reliance:</b> We trust systems that "always work" — until they don't.</p>
      <div class="interactive-button" onclick="nextSlide()">Why This Matters →</div>
    </div>

    <!-- Slide 4: Why This Matters -->
    <div class="slide" id="slide4">
      <h2>🧩 Human Balance & System Trust</h2>
      <p>Humans lose balance with every step...<br>
        <span class="highlight">but we have faith we'll recover it in the next step.</span></p>
      <p>Similarly, we navigate <span class="impact">tolerance to uncertainty</span> daily:<br>
        ✓ Traffic lights will work<br>
        ✓ Our laptop won't crash<br>
        ✓ The person next to us knows what they're doing</p>
      <p><b>Gray zones emerge</b> where this <span class="highlight">necessary trust</span> meets <span class="impact">imperfect systems</span>.</p>
      <div class="interactive-button" onclick="nextSlide()">The Four Gray Zones →</div>
    </div>

    <!-- Slide 5: The Four Gray Zones -->
    <div class="slide" id="slide5">
      <h2 style="margin-top: 3rem; margin-bottom: 0.1rem;">The Four Gray Zones</h2>
      <div class="gray-zones">
        
        <!-- Uncertainty Card -->
        <div class="zone-card zone-uncertainty">
          <div class="zone-card-inner">
            <div class="zone-card-front">
              <div class="zone-icon-large">
                <img src="images/uncertainty_cloud.svg" alt="Uncertainty" style="width: 3.5rem; height: 3.5rem; filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));">
              </div>
              <div class="zone-title-large">Uncertainty</div>
              <div class="flip-hint">hover or click</div>
            </div>
            <div class="zone-card-back">
              <p class="zone-explanation">
                <strong>Areas we don't dare to look at</strong>
                System boundaries, future evolution, department interactions. The unknowns that make us uncomfortable to explore.
              </p>
            </div>
          </div>
        </div>
        
        <!-- Ownership Card -->
        <div class="zone-card zone-ownership">
          <div class="zone-card-inner">
            <div class="zone-card-front">
              <div class="zone-icon-large">
                <img src="images/ownership_key.svg" alt="Ownership" style="width: 3.5rem; height: 3.5rem; filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));">
              </div>
              <div class="zone-title-large">Ownership</div>
              <div class="flip-hint">hover or click</div>
            </div>
            <div class="zone-card-back">
              <p class="zone-explanation">
                <strong>Areas we think are NOT our responsibility</strong>
                But are close to our activity and influence it. The gaps between departments and shared accountability.
              </p>
            </div>
          </div>
        </div>
        
        <!-- Over-reliance Card -->
        <div class="zone-card zone-overreliance">
          <div class="zone-card-inner">
            <div class="zone-card-front">
              <div class="zone-icon-large">
                <img src="images/overreliance_gears.svg" alt="Over-reliance" style="width: 3.5rem; height: 3.5rem; filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));">
              </div>
              <div class="zone-title-large">Over-reliance</div>
              <div class="flip-hint">hover or click</div>
            </div>
            <div class="zone-card-back">
              <p class="zone-explanation">
                <strong>Things we take for granted</strong>
                Systems that "always work." What we assume will never fail. Our blind faith in automated processes.
              </p>
            </div>
          </div>
        </div>
        
        <!-- Constraints Card -->
        <div class="zone-card zone-constraints">
          <div class="zone-card-inner">
            <div class="zone-card-front">
              <div class="zone-icon-large">
                <img src="images/constraints_hourglass.svg" alt="Constraints" style="width: 3.5rem; height: 3.5rem; filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));">
              </div>
              <div class="zone-title-large">Constraints</div>
              <div class="flip-hint">hover or click</div>
            </div>
            <div class="zone-card-back">
              <p class="zone-explanation">
                <strong>Human limitations we don't account for</strong>
                Time pressure, urgency, fatigue, distractions. Cognitive overload during crisis moments.
              </p>
            </div>
          </div>
        </div>
        
      </div>
      <div class="interactive-button" onclick="nextSlide()">Real Crisis Case →</div>
    </div>

    <!-- Slide 6: Case Study Introduction - Hafnia Nile vs Ceres I -->
    <div class="slide" id="slide6">
      <h2>🚢 Real Crisis Case: Singapore Strait Collision</h2>
      <div class="case-study-intro">
        <div class="case-incident-date">July 19, 2024 - Singapore Strait</div>
        <p class="crisis-scenario">Two large tankers collided at dawn, triggering a dramatic fire. 22 crew members evacuated. 
        Imagine receiving <span class="impact">the emergency call at 3 AM</span>: "Your chartered vessel collided and is burning near Singapore..."</p>
        
        <div class="case-vessels">
          <div class="vessel-card">
            <div class="vessel-name">Hafnia Nile</div>
            <div class="vessel-details">
              🇸🇬 Singapore flag<br>
              ⛽ ~300,000 barrels of naphtha<br>
              🔥 <span class="impact">On fire, crew evacuated</span>
            </div>
          </div>
          <div class="vessel-card">
            <div class="vessel-name">Ceres I</div>
            <div class="vessel-details">
              🇸🇹 São Tomé flag<br>
              📦 No cargo on board<br>
              ⚓ <span class="impact">Drifting, technical problems</span>
            </div>
          </div>
        </div>
        
        <!-- Clean background image without placeholder overlay -->
      </div>
      <div class="interactive-button" onclick="nextSlide()">Enter Crisis Mode →</div>
    </div>

    <!-- Slide 7: Crisis Committee Simulation Setup -->
    <div class="slide" id="slide7">
      <h2>⚡ Crisis Committee Simulation</h2>
      <div class="crisis-simulation">
        <div class="crisis-title">🚨 You are the Crisis Committee</div>
        <div class="crisis-scenario">
          The call just came in. You're part of the emergency response team:<br><br>
          <b>📋 Operations • 💼 Trading • 🛡️ Insurance • ⚖️ Legal • 🌍 HSE</b><br><br>
          <span class="impact">Chaos, uncertainty, adrenaline...</span><br>
          Conflicting reports, missing information, pressure mounting.
        </div>
        
        <p><b>We'll relive those critical first moments</b> through the lens of the <span class="highlight">Four Gray Zones</span>.</p>
        
        <div class="interactive-poll">
          <div class="poll-question">🔴 Ready to participate interactively?</div>
          <p>Scan the QR code with your phone to join:</p>
          <div class="qr-placeholder">
            📱 QR CODE<br>
            (Mentimeter/Slido)
          </div>
          <p><small>Anonymous responses • Real-time results</small></p>
        </div>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Start Warm-up →</div>
    </div>

    <!-- Slide 8: Emotional Warm-up Question -->
    <div class="slide" id="slide8">
      <h2>💭 Initial Emotional Response</h2>
      <div class="interactive-poll">
        <div class="poll-question">In one word, what would you feel upon hearing about this collision?</div>
        
        <div class="qr-placeholder">
          📱 RESPOND NOW<br>
          (Word cloud generation)
        </div>
        
        <p>Think about that <span class="impact">3 AM phone call</span>...<br>
        Your chartered vessel is burning in one of the world's busiest straits.</p>
        
        <div style="background: rgba(251,237,212,0.05); border-radius: 10px; padding: 1.5rem; margin: 2rem auto; max-width: 600px;">
          <b>Sample responses:</b> Panic • Shock • Disbelief • Urgency • Confusion • Responsibility...
        </div>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Uncertainty →</div>
    </div>

    <!-- Slide 9: Gray Zone Question 1 - Uncertainty -->
    <div class="slide" id="slide9">
      <div class="gray-zone-question question-uncertainty">
        <div class="question-header">
          <div class="question-icon">
            <img src="images/uncertainty_cloud.svg" alt="Uncertainty">
          </div>
          <div class="question-title">Uncertainty</div>
        </div>
        <div class="question-text">
          <b>What missing information created the most uncertainty for you in those first moments?</b>
        </div>
        <p>Consider each function: Trading worried about market impact, HSE about spills, 
        Insurance about liability, Operations about crew safety...</p>
        
        <div class="qr-placeholder">
          📱 RESPOND<br>
          (Open text responses)
        </div>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Ownership →</div>
    </div>

    <!-- Slide 10: Gray Zone Question 2 - Ownership -->
    <div class="slide" id="slide10">
      <div class="gray-zone-question question-ownership">
        <div class="question-header">
          <div class="question-icon">
            <img src="images/ownership_key.svg" alt="Ownership">
          </div>
          <div class="question-title">Ownership</div>
        </div>
        <div class="question-text">
          <b>Which responsibilities fell into gray areas? Was there confusion about who should do what?</b>
        </div>
        <p>Who contacts port authorities—Legal or Operations? Who handles media? 
        Did anything fall through the cracks because everyone assumed someone else would handle it?</p>
        
        <div class="qr-placeholder">
          📱 RESPOND<br>
          (Responsibility gaps)
        </div>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Over-reliance →</div>
    </div>

    <!-- Slide 11: Gray Zone Question 3 - Over-reliance -->
    <div class="slide" id="slide11">
      <div class="gray-zone-question question-overreliance">
        <div class="question-header">
          <div class="question-icon">
            <img src="images/overreliance_gears.svg" alt="Over-reliance">
          </div>
          <div class="question-title">Over-reliance</div>
        </div>
        <div class="question-text">
          <b>What did you over-rely on during the initial crisis?</b>
        </div>
        <p>A system, a person, an assumption that "everything is under control"?<br>
        Did you trust initial crew reports without verification? Assume fire systems would work perfectly?</p>
        
        <div class="qr-placeholder">
          📱 RESPOND<br>
          (Assumptions & dependencies)
        </div>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Constraints →</div>
    </div>

    <!-- Slide 12: Gray Zone Question 4 - Constraints -->
    <div class="slide" id="slide12">
      <div class="gray-zone-question question-constraints">
        <div class="question-header">
          <div class="question-icon">
            <img src="images/constraints_hourglass.svg" alt="Constraints">
          </div>
          <div class="question-title">Constraints</div>
        </div>
        <div class="question-text">
          <b>What human limitations or context constraints affected crisis management?</b>
        </div>
        <p>Think: Decision-making at 3 AM with a sleepy team, pressure for immediate answers, 
        fragmented information from multiple sources, time-consuming procedures...</p>
        
        <div class="qr-placeholder">
          📱 RESPOND<br>
          (Human factors & pressures)
        </div>
      </div>
      <div class="interactive-button" onclick="nextSlide()">📊 Results →</div>
    </div>

    <!-- Slide 13: Results Visualization & Discussion -->
    <div class="slide" id="slide13">
      <h2>📊 Collective Insights</h2>
      <div class="results-visualization">
        <p><b>Let's analyze what we discovered together...</b></p>
        
        <div class="results-grid">
          <div class="result-zone">
            <div class="result-title" style="color: #ff6b6b; display: flex; align-items: center; gap: 0.5rem;">
              <img src="images/uncertainty_cloud.svg" alt="Uncertainty" style="width: 2rem; height: 2rem;">
              Uncertainty
            </div>
            <div class="result-keywords">
              <!-- Live results will appear here -->
              <i>Real-time responses from Mentimeter...</i>
            </div>
          </div>
          
          <div class="result-zone">
            <div class="result-title" style="color: #ffa726; display: flex; align-items: center; gap: 0.5rem;">
              <img src="images/ownership_key.svg" alt="Ownership" style="width: 2rem; height: 2rem;">
              Ownership
            </div>
            <div class="result-keywords">
              <!-- Live results will appear here -->
              <i>Real-time responses from Mentimeter...</i>
            </div>
          </div>
          
          <div class="result-zone">
            <div class="result-title" style="color: #42a5f5; display: flex; align-items: center; gap: 0.5rem;">
              <img src="images/overreliance_gears.svg" alt="Over-reliance" style="width: 2rem; height: 2rem;">
              Over-reliance
            </div>
            <div class="result-keywords">
              <!-- Live results will appear here -->
              <i>Real-time responses from Mentimeter...</i>
            </div>
          </div>
          
          <div class="result-zone">
            <div class="result-title" style="color: #ab47bc; display: flex; align-items: center; gap: 0.5rem;">
              <img src="images/constraints_hourglass.svg" alt="Constraints" style="width: 2rem; height: 2rem;">
              Constraints
            </div>
            <div class="result-keywords">
              <!-- Live results will appear here -->
              <i>Real-time responses from Mentimeter...</i>
            </div>
          </div>
        </div>
        
        <p class="impact">What patterns do we see? Which gray zone was most critical?</p>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Final Challenge →</div>
    </div>

    <!-- Slide 14: Final Challenge -->
    <div class="slide" id="slide14">
      <h2>Your Gray Zone Challenge</h2>
      <div class="exercise">
        <div class="exercise-title">This Week's Experiment</div>
        <div class="exercise-step">1. Pick one process you know well (work or personal).</div>
        <div class="exercise-step">2. Apply the four areas: What am I not paying attention to?</div>
        <div class="exercise-step">3. Choose ONE small action to address the biggest gray zone.</div>
        <div class="exercise-step">4. In your next important meeting, ask: "What are we not seeing here?"</div>
        <p class="impact">Remember: <span class="highlight">Systems are imperfect, we save mental energy.</span><br>
          Gray zones are inevitable—but they don't have to be invisible.</p>
      </div>
      <div class="interactive-button" onclick="nextSlide()">Thank You →</div>
    </div>

    <!-- Slide 15: Thank You & Contact -->
    <div class="slide" id="slide15">
      <h1>Thank you! 🧠</h1>
      <p>Start mapping what you're not paying attention to.</p>
      <p>Learn more at <a href="https://grayzonemapper.com" target="_blank">grayzonemapper.com</a></p>
      <p class="highlight">"Gray zones are areas we dedicate little gray matter to—<br>but they don't have to stay that way."</p>
    </div>
  </div>
  <!-- UI Elements -->
  <img src="images/apple-touch-icon.png" alt="Gray Zones Logo" class="logo-icon">
  <div class="progress-bar" id="progressBar"></div>
  <div class="slide-counter" id="slideCounter">1 / 15</div>
  <div class="navigation-hint">Click or press Space/Arrow keys • Shift+D: Demo • Shift+M: Toggle Mentimeter • Shift+1: Dual Mode • Shift+2: Hybrid Mode • Shift+O: Offline</div>
  
  <!-- Presentation Mode Indicator -->
  <div class="mode-indicator" id="modeIndicator">
    <div class="mode-status">
      <span class="mode-label">Mode:</span>
      <span class="mode-name" id="modeName">Hybrid Embed</span>
      <span class="mode-hint">(Shift+1/2/O to switch)</span>
    </div>
  </div>

  <script>
    let currentSlide = 1;
    const totalSlides = 15;
    
    // Dual Presentation System Configuration
    const presentationModes = {
      dual: {
        name: 'Dual Control',
        description: 'Separate Mentimeter window + Workshop slides',
        color: '#42a5f5',
        enabled: false,
        instructions: 'Open Mentimeter in separate browser/projector'
      },
      hybrid: {
        name: 'Hybrid Embed', 
        description: 'Workshop with embedded Mentimeter',
        color: '#ffa726',
        enabled: true,
        instructions: 'QR codes and embeds within slides'
      },
      offline: {
        name: 'Offline Mode',
        description: 'No Mentimeter integration',
        color: '#999',
        enabled: false,
        instructions: 'Discussion-based without live polling'
      }
    };
    
    let currentMode = 'hybrid'; // Default mode
    
    // Enhanced keyboard navigation with mode switching
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space' || e.code === 'ArrowRight') { e.preventDefault(); nextSlide(); }
      else if (e.code === 'ArrowLeft') { e.preventDefault(); previousSlide(); }
      else if (e.code === 'KeyD' && e.shiftKey) { // Shift+D for Demo Mode
        e.preventDefault();
        const questionType = getQuestionTypeBySlide(currentSlide);
        if (questionType) {
          console.log(`Starting demo mode for: ${questionType}`);
          startDemoMode(questionType);
        }
      }
      else if (e.code === 'KeyM' && e.shiftKey) { // Shift+M for Mentimeter toggle (legacy)
        e.preventDefault();
        toggleMode('hybrid');
      }
      else if (e.code === 'Digit1' && e.shiftKey) { // Shift+1 for Dual Mode
        e.preventDefault();
        switchPresentationMode('dual');
      }
      else if (e.code === 'Digit2' && e.shiftKey) { // Shift+2 for Hybrid Mode
        e.preventDefault();
        switchPresentationMode('hybrid');
      }
      else if (e.code === 'KeyO' && e.shiftKey) { // Shift+O for Offline Mode
        e.preventDefault();
        switchPresentationMode('offline');
      }
    });
    
    // Switch between presentation modes
    function switchPresentationMode(mode) {
      console.log(`Switching from ${currentMode} to ${mode}`);
      
      if (!presentationModes[mode]) {
        console.error(`Mode ${mode} not found`);
        return;
      }
      
      // Update current mode
      const previousMode = currentMode;
      currentMode = mode;
      
      // Reset all modes
      Object.keys(presentationModes).forEach(m => {
        presentationModes[m].enabled = false;
      });
      
      // Enable selected mode
      presentationModes[mode].enabled = true;
      
      // Update UI indicator
      updateModeIndicator();
      
      // Show mode change notification
      showModeChangeNotification(previousMode, mode);
      
      // Refresh current slide with new mode
      refreshSlideForMode();
      
      // Special handling for dual mode
      if (mode === 'dual') {
        openMentimeterWindow();
      }
      
      console.log(`Successfully switched to ${presentationModes[mode].name} mode`);
    }
    
    function updateModeIndicator() {
      const indicator = document.getElementById('modeIndicator');
      const modeName = document.getElementById('modeName');
      if (!indicator || !modeName) return;
      
      const mode = presentationModes[currentMode];
      
      modeName.textContent = mode.name;
      indicator.style.borderColor = mode.color;
      indicator.style.background = `rgba(0,0,0,0.9)`;
      
      // Update color scheme based on mode
      const colorMap = {
        'dual': '66,165,245',
        'hybrid': '255,167,38', 
        'offline': '153,153,153'
      };
      
      const rgbColor = colorMap[currentMode];
      indicator.style.boxShadow = `0 4px 15px rgba(${rgbColor},0.3)`;
      indicator.style.borderColor = mode.color;
      
      // Add mode-specific icon
      const iconMap = {
        'dual': '🖥️',
        'hybrid': '📱',
        'offline': '💬'
      };
      
      const existingIcon = indicator.querySelector('.mode-icon');
      if (existingIcon) existingIcon.remove();
      
      const icon = document.createElement('span');
      icon.className = 'mode-icon';
      icon.textContent = iconMap[currentMode];
      icon.style.fontSize = '1.2rem';
      
      indicator.insertBefore(icon, indicator.firstChild);
      
      // Trigger animation
      indicator.style.animation = 'modeSwitch 0.5s ease';
      setTimeout(() => {
        indicator.style.animation = '';
      }, 500);
    }
    
    function showModeChangeNotification(fromMode, toMode) {
      const notification = document.createElement('div');
      const mode = presentationModes[toMode];
      
      notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.95);
        color: #FBEDD4;
        padding: 2rem 3rem;
        border-radius: 15px;
        border: 2px solid ${mode.color};
        z-index: 10000;
        text-align: center;
        font-size: 1.1rem;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        animation: modeSwitch 0.5s ease;
      `;
      
      notification.innerHTML = `
        <div style="font-size: 1.4rem; font-weight: bold; margin-bottom: 1rem; color: ${mode.color};">
          📊 ${mode.name}
        </div>
        <div style="margin-bottom: 1rem; opacity: 0.9;">
          ${mode.description}
        </div>
        <div style="font-size: 0.9rem; opacity: 0.7; font-style: italic;">
          ${mode.instructions}
        </div>
        ${toMode === 'dual' ? '<div style="margin-top: 1rem; color: #42a5f5; font-weight: bold;">↗️ Opening Mentimeter window...</div>' : ''}
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }
    
    function refreshSlideForMode() {
      const questionType = getQuestionTypeBySlide(currentSlide);
      
      if (questionType) {
        // Force refresh of interactive elements
        setTimeout(() => {
          refreshInteractiveElements(questionType);
        }, 100);
      }
      
      // Update any other slide-specific elements
      updateSlideForCurrentMode();
    }
    
    function updateSlideForCurrentMode() {
      // Add mode-specific visual changes to current slide
      const currentSlideElement = document.getElementById(`slide${currentSlide}`);
      if (!currentSlideElement) return;
      
      // Remove any existing mode classes
      currentSlideElement.classList.remove('mode-dual', 'mode-hybrid', 'mode-offline');
      
      // Add current mode class
      currentSlideElement.classList.add(`mode-${currentMode}`);
    }
    
    // Dual Mode: Open Mentimeter in separate window/tab
    function openMentimeterWindow() {
      const mentimeterUrl = `${mentimeterConfig.baseUrl}/${mentimeterConfig.eventCode}`;
      const mentimeterWindow = window.open(
        mentimeterUrl, 
        'MentimeterPresentation',
        'width=1200,height=800,scrollbars=yes,resizable=yes,toolbar=no,menubar=no'
      );
      
      if (mentimeterWindow) {
        console.log('Mentimeter window opened successfully');
        
        // Focus back to main presentation after 2 seconds
        setTimeout(() => {
          window.focus();
        }, 2000);
      } else {
        console.warn('Popup blocked - showing manual instructions');
        showManualMentimeterInstructions();
      }
    }
    
    function showManualMentimeterInstructions() {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.95);
        color: #FBEDD4;
        padding: 2rem 3rem;
        border-radius: 15px;
        border: 2px solid #42a5f5;
        z-index: 10000;
        text-align: center;
        max-width: 500px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      `;
      
      notification.innerHTML = `
        <div style="font-size: 1.4rem; font-weight: bold; margin-bottom: 1rem; color: #42a5f5;">
          🚀 Dual Mode Setup
        </div>
        <div style="margin-bottom: 1rem;">
          Open this URL in a separate browser/projector:
        </div>
        <div style="background: rgba(66,165,245,0.2); padding: 1rem; border-radius: 8px; margin: 1rem 0; font-family: monospace; word-break: break-all;">
          ${mentimeterConfig.baseUrl}/${mentimeterConfig.eventCode}
        </div>
        <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 1rem;">
          Click anywhere to close this message
        </div>
      `;
      
      notification.addEventListener('click', () => {
        notification.remove();
      });
      
      document.body.appendChild(notification);
    }
    
    // Dual Mode: Show instructions instead of QR codes
    function displayDualModeInstructions(questionType) {
      const qrPlaceholders = document.querySelectorAll('.qr-placeholder');
      const config = mentimeterConfig.presentations[questionType];
      
      qrPlaceholders.forEach(placeholder => {
        placeholder.innerHTML = `
          <div style="font-size: 1.4rem; margin-bottom: 1rem; color: #42a5f5;">🖥️ DUAL MODE ACTIVE</div>
          <div style="font-size: 1rem; opacity: 0.9; margin-bottom: 1rem;">
            Question displayed on separate Mentimeter screen
          </div>
          <div style="background: rgba(66,165,245,0.2); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
            <div style="font-weight: bold; margin-bottom: 0.5rem;">Participants join at:</div>
            <div style="font-size: 1.2rem; color: #42a5f5;">menti.com</div>
            <div style="font-size: 1.4rem; font-weight: bold; color: #42a5f5; margin-top: 0.5rem;">
              Code: ${config.id}
            </div>
          </div>
          <div style="font-size: 0.9rem; opacity: 0.7;">
            Control timing from Mentimeter presenter view
          </div>
        `;
        
        placeholder.style.background = 'rgba(66,165,245,0.15)';
        placeholder.style.borderColor = '#42a5f5';
        placeholder.style.color = '#FBEDD4';
      });
    }
    
    // Legacy function compatibility
    function toggleMode(mode) {
      switchPresentationMode(mode);
    }
    
    // Enhanced Mentimeter Integration
    const mentimeterConfig = {
      enabled: true,
      baseUrl: 'https://www.menti.com',
      eventCode: 'altvpk3xsbhg', // Updated to match documentation
      presentations: {
        warmup: { id: 'altvpk3xsbhg', type: 'wordcloud', question: 'emotional-response' },
        uncertainty: { id: 'altvpk3xsbhg', type: 'opentext', question: 'information-gaps' },
        ownership: { id: 'altvpk3xsbhg', type: 'opentext', question: 'responsibility-confusion' },
        overreliance: { id: 'altvpk3xsbhg', type: 'opentext', question: 'assumptions-dependencies' },
        constraints: { id: 'altvpk3xsbhg', type: 'opentext', question: 'human-limitations' }
      }
    };

    // Functions for slide navigation and interaction
    function nextSlide() {
      if (currentSlide < totalSlides) {
        currentSlide++;
        showSlide(currentSlide);
      }
    }

    function previousSlide() {
      if (currentSlide > 1) {
        currentSlide--;
        showSlide(currentSlide);
      }
    }

    function showSlide(n) {
      const slides = document.querySelectorAll('.slide');
      const progressBar = document.getElementById('progressBar');
      const slideCounter = document.getElementById('slideCounter');
      
      // Hide all slides
      slides.forEach(slide => slide.classList.remove('active'));
      
      // Show current slide
      const currentSlideElement = document.getElementById(`slide${n}`);
      if (currentSlideElement) {
        currentSlideElement.classList.add('active');
      }
      
      // Update progress bar
      const progress = (n / totalSlides) * 100;
      progressBar.style.width = `${progress}%`;
      
      // Update slide counter
      slideCounter.textContent = `${n} / ${totalSlides}`;
      
      // Update slide for current mode
      updateSlideForCurrentMode();
      
      // Handle interactive elements based on current mode
      handleSlideInteractivity(n);
      
      console.log(`Showing slide ${n}, mode: ${currentMode}`);
    }

    function handleSlideInteractivity(slideNumber) {
      const questionType = getQuestionTypeBySlide(slideNumber);
      
      if (questionType) {
        setTimeout(() => {
          refreshInteractiveElements(questionType);
        }, 300);
      }
    }
    
    function refreshInteractiveElements(questionType) {
      // Clear any existing content first
      const qrPlaceholders = document.querySelectorAll('.qr-placeholder');
      qrPlaceholders.forEach(placeholder => {
        placeholder.innerHTML = '';
        placeholder.className = 'qr-placeholder'; // Reset classes
      });
      
      // Apply mode-specific rendering
      if (currentMode === 'dual') {
        displayDualModeInstructions(questionType);
      } else if (currentMode === 'hybrid') {
        displayQRCode(questionType);
      } else if (currentMode === 'offline') {
        showOfflineMode();
      }
      
      console.log(`Refreshed ${questionType} for ${currentMode} mode`);
    }

    function getQuestionTypeBySlide(slideNumber) {
      const slideQuestions = {
        8: 'warmup',
        9: 'uncertainty', 
        10: 'ownership',
        11: 'overreliance',
        12: 'constraints'
      };
      return slideQuestions[slideNumber] || null;
    }

    function displayQRCode(questionType) {
      const qrPlaceholders = document.querySelectorAll('.qr-placeholder');
      const config = mentimeterConfig.presentations[questionType];
      const mentiUrl = `${mentimeterConfig.baseUrl}/${mentimeterConfig.eventCode}`;
      const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(mentiUrl)}`;

      qrPlaceholders.forEach(placeholder => {
        placeholder.innerHTML = `
          <div style="text-transform: uppercase; font-weight: bold; font-size: 1.1rem; margin-bottom: 0.5rem; color: #FBEDD4;">📱 Scan to join live poll</div>
          <div style="display: flex; align-items: center; justify-content: center; gap: 1.5rem; width: 100%; padding: 0.5rem;">
            <img src="images/qr-codes/mentimeter_qr_code1.png" alt="Mentimeter QR Code" style="width: 140px; height: 140px; border-radius: 8px;">
            <div style="text-align: left; border-left: 2px solid #ffa726; padding-left: 1.5rem;">
              <div style="font-size: 0.9rem; color: #FBEDD4; opacity: 0.8;">Alternative Access:</div>
              <a href="${mentiUrl}" target="_blank" style="font-size: 1.2rem; font-weight: bold; color: white; text-decoration: none; margin: 0.3rem 0;">Go to: menti.com</a>
              <div style="font-size: 1.1rem; font-weight: bold; letter-spacing: 1px; margin-top: 0.3rem;">Code: ${mentimeterConfig.eventCode}</div>
              <div style="font-size: 0.8rem; opacity: 0.7; margin-top: 0.5rem;">Results appear live on<br>presenter screen</div>
            </div>
          </div>
          <div style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">LIVE NOW - Anonymous responses • Real-time results</div>
        `;
        placeholder.classList.add('active');
      });
    }

    function showOfflineMode() {
      const qrPlaceholders = document.querySelectorAll('.qr-placeholder');
      
      qrPlaceholders.forEach(placeholder => {
        placeholder.innerHTML = `
          <div style="font-size: 1.4rem; margin-bottom: 1rem; color: #999;">💬 OFFLINE MODE</div>
          <div style="font-size: 1rem; opacity: 0.9; margin-bottom: 1rem;">
            Discussion-based without live polling
          </div>
          <div style="background: rgba(153,153,153,0.2); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
            <div style="font-weight: bold; margin-bottom: 0.5rem;">Facilitator Instructions:</div>
            <div style="font-size: 0.9rem; opacity: 0.8;">
              • Ask question verbally<br>
              • Collect responses on whiteboard/flipchart<br>
              • Group similar themes together
            </div>
          </div>
          <div style="font-size: 0.9rem; opacity: 0.7;">
            More engagement, less technology
          </div>
        `;
        
        placeholder.style.background = 'rgba(153,153,153,0.15)';
        placeholder.style.borderColor = '#999';
        placeholder.style.color = '#FBEDD4';
      });
    }

    function showParticipationStats(questionType, responseCount) {
      // Placeholder for participation tracking
      console.log(`${questionType}: ${responseCount} responses`);
    }

    function startDemoMode(questionType) {
      console.log(`Demo mode activated for ${questionType}`);
      // Simulate some demo responses
      setTimeout(() => {
        showParticipationStats(questionType, Math.floor(Math.random() * 20) + 5);
      }, 1000);
    }

    // Mouse cursor effect
    document.addEventListener('mousemove', (e) => {
      const cursor = document.getElementById('cursor');
      cursor.style.left = e.clientX + 'px';
      cursor.style.top = e.clientY + 'px';
    });

    // Click navigation
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.interactive-button') && !e.target.closest('.zone-card')) {
        nextSlide();
      }
    });

    // Initialize mode indicator on page load
    document.addEventListener('DOMContentLoaded', () => {
      console.log('Initializing Gray Zones Workshop...');
      console.log('Current mode:', currentMode);
      
      updateModeIndicator();
      showSlide(currentSlide);
      
      // Initialize current slide interactivity
      const questionType = getQuestionTypeBySlide(currentSlide);
      if (questionType) {
        refreshInteractiveElements(questionType);
      }
      
      console.log('Workshop initialized successfully');
    });
  </script>
</body>
</html>